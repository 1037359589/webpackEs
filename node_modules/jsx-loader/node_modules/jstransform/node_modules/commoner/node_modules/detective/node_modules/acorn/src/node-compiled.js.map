{"version":3,"sources":["node.js"],"names":[],"mappings":"AAAA,SAAQ,MAAM,QAAO,SAAS,CAAA;AAC9B,SAAQ,cAAc,QAAO,YAAY;;;;AAAA,AAIzC,MAAM,EAAE,GAAG,MAAM,CAAC,SAAS,CAAA;;AAE3B,OAAO,MAAM,IAAI,CAAC,EAAE;;AAEpB,EAAE,CAAC,SAAS,GAAG,YAAW;AACxB,MAAI,IAAI,GAAG,IAAI,IAAI,EAAA,CAAA;AACnB,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;AACvB,MAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EACxB,IAAI,CAAC,GAAG,GAAG,IAAI,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;AACpD,MAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAA;AACjD,MAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EACrB,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;AAC9B,SAAO,IAAI,CAAA;CACZ,CAAA;;AAED,EAAE,CAAC,WAAW,GAAG,UAAS,GAAG,EAAE,GAAG,EAAE;AAClC,MAAI,IAAI,GAAG,IAAI,IAAI,EAAA,CAAA;AACnB,MAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC;AACrB,QAAI,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,GAAG,KAAK,SAAS,EAAE;;AAE/C,SAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA;AACZ,SAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA;KACb;GACF;AACD,MAAI,CAAC,KAAK,GAAG,GAAG,CAAA;AAChB,MAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EACxB,IAAI,CAAC,GAAG,GAAG,IAAI,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;AAC1C,MAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAA;AACjD,MAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EACrB,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAA;AACvB,SAAO,IAAI,CAAA;CACZ;;;;AAAA,AAID,EAAE,CAAC,UAAU,GAAG,UAAS,IAAI,EAAE,IAAI,EAAE;AACnC,MAAI,CAAC,IAAI,GAAG,IAAI,CAAA;AAChB,MAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAA;AAC1B,MAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EACxB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAA;AACnC,MAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EACrB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAA;AACjC,SAAO,IAAI,CAAA;CACZ;;;;AAAA,AAID,EAAE,CAAC,YAAY,GAAG,UAAS,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE;AAC/C,MAAI,CAAC,IAAI,GAAG,IAAI,CAAA;AAChB,MAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC;AACrB,QAAI,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,GAAG,KAAK,SAAS,EAAE;;AAE/C,SAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA;AACZ,SAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA;KACb;GACF;AACD,MAAI,CAAC,GAAG,GAAG,GAAG,CAAA;AACd,MAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EACxB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAA;AACpB,MAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EACrB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAA;AACrB,SAAO,IAAI,CAAA;CACZ,CAAA","file":"node-compiled.js","sourcesContent":["import {Parser} from \"./state\"\nimport {SourceLocation} from \"./location\"\n\n// Start an AST node, attaching a start offset.\n\nconst pp = Parser.prototype\n\nexport class Node {}\n\npp.startNode = function() {\n  let node = new Node\n  node.start = this.start\n  if (this.options.locations)\n    node.loc = new SourceLocation(this, this.startLoc)\n  if (this.options.directSourceFile)\n    node.sourceFile = this.options.directSourceFile\n  if (this.options.ranges)\n    node.range = [this.start, 0]\n  return node\n}\n\npp.startNodeAt = function(pos, loc) {\n  let node = new Node\n  if (Array.isArray(pos)){\n    if (this.options.locations && loc === undefined) {\n      // flatten pos\n      loc = pos[1]\n      pos = pos[0]\n    }\n  }\n  node.start = pos\n  if (this.options.locations)\n    node.loc = new SourceLocation(this, loc)\n  if (this.options.directSourceFile)\n    node.sourceFile = this.options.directSourceFile\n  if (this.options.ranges)\n    node.range = [pos, 0]\n  return node\n}\n\n// Finish an AST node, adding `type` and `end` properties.\n\npp.finishNode = function(node, type) {\n  node.type = type\n  node.end = this.lastTokEnd\n  if (this.options.locations)\n    node.loc.end = this.lastTokEndLoc\n  if (this.options.ranges)\n    node.range[1] = this.lastTokEnd\n  return node\n}\n\n// Finish node at given position\n\npp.finishNodeAt = function(node, type, pos, loc) {\n  node.type = type\n  if (Array.isArray(pos)){\n    if (this.options.locations && loc === undefined) {\n      // flatten pos\n      loc = pos[1]\n      pos = pos[0]\n    }\n  }\n  node.end = pos\n  if (this.options.locations)\n    node.loc.end = loc\n  if (this.options.ranges)\n    node.range[1] = pos\n  return node\n}\n"]}