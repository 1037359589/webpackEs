{"version":3,"sources":["es7-trailing-comma-visitors-test.js"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,OAAO,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC;;AAEtC,QAAQ,CAAC,6BAA6B,EAAE,YAAW;AACjD,MAAI,WAAW,CAAC;AAChB,MAAI,QAAQ,CAAC;;AAEb,YAAU,CAAC,YAAW;AACpB,WAAO,CAAC,cAAc,CAAC,CAAC,SAAS,EAAE,CAAC;AACpC,eAAW,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC;;AAEzD,YAAQ,GAAG,OAAO,CAAC,gCAAgC,CAAC,CAAC,WAAW,CAC7D,MAAM,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,WAAW,CAAC,CACzD,MAAM,CAAC,OAAO,CAAC,gCAAgC,CAAC,CAAC,WAAW,CAAC,CAAC;GAClE,CAAC,CAAC;;AAEH,WAAS,SAAS,CAAC,IAAI,EAAE;AACvB,WAAO,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;GACzC;;AAED,WAAS,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE;AACrC,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC;;AAED,IAAE,CAAC,oDAAoD,EAAE,YAAW;AAClE,mBAAe,CACb,mBAAmB,EACnB,kBAAkB,CACnB,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,4DAA4D,EAAE,YAAW;AAC1E,mBAAe,CACb,gDAAgD,EAChD,+CAA+C,CAChD,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,0DAA0D,EAAE,YAAW;AACxE,mBAAe,CACb,sEAAsE,EACtE,qEAAqE,CACtE,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,0DAA0D,EAAE,YAAW;AACxE,mBAAe,CACb,gEAAgE,EAChE,+DAA+D,CAChE,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,wDAAwD,EAAE,YAAW;AACtE,mBAAe,CACb,8DAA8D,EAC9D,6DAA6D,CAC9D,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,qDAAqD,EAAE,YAAW;AACnE,mBAAe,CACb,iCAAiC,EACjC,gDAAgD,CACjD,CAAC;;AAEF,mBAAe,CACb,yCAAyC,EACzC,wDAAwD,CACzD,CAAC;GACH,CAAC,CAAC;;AAEH,IAAE,CAAC,0DAA0D,EAAE,YAAW;AACxE,mBAAe,CACb,2BAA2B,EAC3B,0BAA0B,CAC3B,CAAC;AACF,mBAAe,CACb,8BAA8B,EAC9B,6BAA6B,CAC9B,CAAC;GACH,CAAC,CAAC;CAEJ,CAAC,CAAC","file":"es7-trailing-comma-visitors-test-compiled.js","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @emails dmitrys@fb.com\n */\n\n/*jshint evil:true*/\n\nrequire('mock-modules').autoMockOff();\n\ndescribe('es7-trailing-comma-visitors', function() {\n  var transformFn;\n  var visitors;\n\n  beforeEach(function() {\n    require('mock-modules').dumpCache();\n    transformFn = require('../../src/jstransform').transform;\n\n    visitors = require('../es6-arrow-function-visitors').visitorList\n      .concat(require('../es6-rest-param-visitors').visitorList)\n      .concat(require('../es7-trailing-comma-visitors').visitorList);\n  });\n\n  function transform(code) {\n    return transformFn(visitors, code).code;\n  }\n\n  function expectTransform(code, result) {\n    expect(transform(code)).toEqual(result);\n  }\n\n  it('should eliminate trailing commas in function calls', function() {\n    expectTransform(\n      'Math.max(1, 2 , )',\n      'Math.max(1, 2  )'\n    );\n  });\n\n  it('should eliminate trailing commas when creating new objects', function() {\n    expectTransform(\n      'var pet = new Animal(\\'cat\\', NATURE_EVIL,\\t);',\n      'var pet = new Animal(\\'cat\\', NATURE_EVIL\\t);'\n    );\n  });\n\n  it('should eliminate trailing commas in function expressions', function() {\n    expectTransform(\n      'var Animal = function(species, nature,) { this.species = species; };',\n      'var Animal = function(species, nature) { this.species = species; };'\n    );\n  });\n\n  it('should eliminate trailing commas in function definitions', function() {\n    expectTransform(\n      'function Animal(species, nature,) { this.species = species; };',\n      'function Animal(species, nature) { this.species = species; };'\n    );\n  });\n\n  it('should eliminate trailing commas in method definitions', function() {\n    expectTransform(\n      'class Animal{ setNature(nature,) { this.nature = nature; } }',\n      'class Animal{ setNature(nature) { this.nature = nature; } }'\n    );\n  });\n\n  it('should eliminate trailing commas in arrow functions', function() {\n    expectTransform(\n      'var cube = ((x,) => x * x * x);',\n      'var cube = (function(x)  {return x * x * x;});'\n    );\n\n    expectTransform(\n      'var multiply = ((x,y,z,) => x * y * z);',\n      'var multiply = (function(x,y,z)  {return x * y * z;});'\n    );\n  });\n\n  it('should eliminate trailing commas after default arguments', function() {\n    expectTransform(\n      '(function foo(x = 5,) {})',\n      '(function foo(x = 5) {})'\n    );\n    expectTransform(\n      '(function foo({x} = {},) {})',\n      '(function foo({x} = {}) {})'\n    );\n  });\n\n});\n"]}