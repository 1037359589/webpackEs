{"version":3,"sources":["undefined-to-void-0-visitors-test.js"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,OAAO,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC;;AAEtC,QAAQ,CAAC,qBAAqB,EAAE,YAAW;AACzC,MAAI,WAAW,CAAC;AAChB,MAAI,QAAQ,CAAC;;AAEb,YAAU,CAAC,YAAW;AACpB,WAAO,CAAC,cAAc,CAAC,CAAC,SAAS,EAAE,CAAC;AACpC,YAAQ,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC,WAAW,CAAC;AAClE,eAAW,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC;GAC1D,CAAC,CAAC;;AAEH,WAAS,SAAS,CAAC,IAAI,EAAE;AACvB,WAAO,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;GACzC;;AAED,IAAE,CAAC,iDAAiD,EAAE,YAAW;AAC/D,QAAI,IAAI,GAAG,CACT,eAAe,EACf,wBAAwB,EACxB,uBAAuB,EACvB,wBAAwB,EACxB,oBAAoB,EACpB,wBAAwB,EACxB,wBAAwB,EACxB,yBAAyB,EACzB,uBAAuB,EACvB,gBAAgB,CACjB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,QAAI,MAAM,GAAG,CACX,eAAe,EACf,wBAAwB,EACxB,uBAAuB,EACvB,uBAAuB,EACvB,mBAAmB,EACnB,uBAAuB,EACvB,uBAAuB,EACvB,wBAAwB,EACxB,sBAAsB,EACtB,eAAe,CAChB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC,CAAC,CAAC;;AAEH,IAAE,CAAC,0DAA0D,EAAE,YAAW;AACxE,QAAI,IAAI,GAAG,CACT,wBAAwB;AACxB,yBAAqB,EACrB,QAAQ,CACT,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,QAAI,MAAM,GAAG,CACX,wBAAwB;AACxB,yBAAqB,EACrB,QAAQ,CACT,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC,CAAC,CAAC;;AAEH,IAAE,CAAC,+DAA+D,EAAE,YAAW;AAC7E,QAAI,IAAI,GAAG,CACT,eAAe,EACf,kBAAkB;AAClB,sBAAkB;AAClB,yBAAqB,EACrB,OAAO,CACR,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,QAAI,MAAM,GAAG,CACX,eAAe,EACf,kBAAkB;AAClB,sBAAkB;AAClB,yBAAqB,EACrB,OAAO,CACR,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC,CAAC,CAAC;;AAEH,IAAE,CAAC,iEAAiE,EAAE,YAAW;AAC/E,QAAI,IAAI,GAAG,CACT,wBAAwB;AACxB,4BAAwB,EACxB,uBAAuB;AACvB,aAAS,EACT,OAAO,CACR,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,QAAI,MAAM,GAAG,CACX,wBAAwB;AACxB,4BAAwB,EACxB,uBAAuB;AACvB,aAAS,EACT,OAAO,CACR,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEb,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC,CAAC,CAAC;CAEJ,CAAC,CAAC","file":"undefined-to-void-0-visitors-test-compiled.js","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @emails oncall+jsinfra@xmail.facebook.com\n */\n\n/*jshint evil:true*/\n\nrequire('mock-modules').autoMockOff();\n\ndescribe('undefined to void 0', function() {\n  var transformFn;\n  var visitors;\n\n  beforeEach(function() {\n    require('mock-modules').dumpCache();\n    visitors = require('../undefined-to-void-0-visitors').visitorList;\n    transformFn = require('../../src/jstransform').transform;\n  });\n\n  function transform(code) {\n    return transformFn(visitors, code).code;\n  }\n\n  it('should transform when undefined is not in scope', function() {\n    var code = [\n      '(function() {',\n      '  foo.undefined = bar;',\n      '  ({undefined: foo});',\n      '  var bar = undefined;',\n      '  bar = undefined;',\n      '  foo.bar = undefined;',\n      '  undefined.foo = bar;',\n      '  foo[undefined] = bar;',\n      '  ({foo: undefined});',\n      '})(undefined);'\n    ].join('\\n');\n\n    var result = [\n      '(function() {',\n      '  foo.undefined = bar;',\n      '  ({undefined: foo});',\n      '  var bar = (void 0);',\n      '  bar = (void 0);',\n      '  foo.bar = (void 0);',\n      '  (void 0).foo = bar;',\n      '  foo[(void 0)] = bar;',\n      '  ({foo: (void 0)});',\n      '})((void 0));'\n    ].join('\\n');\n\n    expect(transform(code)).toEqual(result);\n  });\n\n  it('should not transform when undefined is function argument', function() {\n    var code = [\n      '(function(undefined) {', // declared here\n      '  return undefined;',\n      '})(1);'\n    ].join('\\n');\n\n    var result = [\n      '(function(undefined) {', // declared here\n      '  return undefined;',\n      '})(1);'\n    ].join('\\n');\n\n    expect(transform(code)).toEqual(result);\n  });\n\n  it('should not transform when undefined is defined in local scope', function() {\n    var code = [\n      '(function() {',\n      '  var undefined;', // declared here\n      '  undefined = 1;', // assignment to declared variable\n      '  return undefined;',\n      '})();'\n    ].join('\\n');\n\n    var result = [\n      '(function() {',\n      '  var undefined;', // declared here\n      '  undefined = 1;', // assignment to declared variable\n      '  return undefined;',\n      '})();'\n    ].join('\\n');\n\n    expect(transform(code)).toEqual(result);\n  });\n\n  it('should not transform when undefined is defined in lexical scope', function() {\n    var code = [\n      '(function(undefined) {', // declared here\n      '  return (function() {',\n      '    return undefined;', // respects lexical scope\n      '  })();',\n      '})();'\n    ].join('\\n');\n\n    var result = [\n      '(function(undefined) {', // declared here\n      '  return (function() {',\n      '    return undefined;', // respects lexical scope\n      '  })();',\n      '})();'\n    ].join('\\n');\n\n    expect(transform(code)).toEqual(result);\n  });\n\n});\n\n\n"]}