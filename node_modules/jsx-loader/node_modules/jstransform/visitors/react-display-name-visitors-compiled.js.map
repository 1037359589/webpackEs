{"version":3,"sources":["react-display-name-visitors.js"],"names":[],"mappings":"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","file":"react-display-name-visitors-compiled.js","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n/*global exports:true*/\n'use strict';\n\nvar Syntax = require('esprima-fb').Syntax;\nvar utils = require('../src/utils');\n\nfunction shouldAddDisplayName(object) {\n  if (object &&\n      object.type === Syntax.CallExpression &&\n      object.callee.type === Syntax.MemberExpression &&\n      object.callee.object.type === Syntax.Identifier &&\n      object.callee.object.name === 'React' &&\n      object.callee.property.type === Syntax.Identifier &&\n      object.callee.property.name === 'createClass' &&\n      object.arguments.length === 1 &&\n      object.arguments[0].type === Syntax.ObjectExpression) {\n    // Verify that the displayName property isn't already set\n    var properties = object.arguments[0].properties;\n    var safe = properties.every(function(property) {\n      var value = property.key.type === Syntax.Identifier ?\n        property.key.name :\n        property.key.value;\n      return value !== 'displayName';\n    });\n    return safe;\n  }\n  return false;\n}\n\n/**\n * If `expr` is an Identifier or MemberExpression node made of identifiers and\n * dot accesses, return a list of the identifier parts. Other nodes return null.\n *\n * Examples:\n *\n * MyComponent -> ['MyComponent']\n * namespace.MyComponent -> ['namespace', 'MyComponent']\n * namespace['foo'] -> null\n * namespace['foo'].bar -> ['bar']\n */\nfunction flattenIdentifierOrMemberExpression(expr) {\n  if (expr.type === Syntax.Identifier) {\n    return [expr.name];\n  } else if (expr.type === Syntax.MemberExpression) {\n    if (!expr.computed && expr.property.type === Syntax.Identifier) {\n      var flattenedObject = flattenIdentifierOrMemberExpression(expr.object);\n      if (flattenedObject) {\n        flattenedObject.push(expr.property.name);\n        return flattenedObject;\n      } else {\n        return [expr.property.name];\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Transforms the following:\n *\n * var MyComponent = React.createClass({\n *    render: ...\n * });\n *\n * into:\n *\n * var MyComponent = React.createClass({\n *    displayName: 'MyComponent',\n *    render: ...\n * });\n *\n * Also catches:\n *\n * MyComponent = React.createClass(...);\n * namespace.MyComponent = React.createClass(...);\n * exports.MyComponent = React.createClass(...);\n * module.exports = {MyComponent: React.createClass(...)};\n */\nfunction visitReactDisplayName(traverse, object, path, state) {\n  var left, right;\n\n  if (object.type === Syntax.AssignmentExpression) {\n    left = object.left;\n    right = object.right;\n  } else if (object.type === Syntax.Property) {\n    left = object.key;\n    right = object.value;\n  } else if (object.type === Syntax.VariableDeclarator) {\n    left = object.id;\n    right = object.init;\n  }\n\n  if (right && shouldAddDisplayName(right)) {\n    var displayNamePath = flattenIdentifierOrMemberExpression(left);\n    if (displayNamePath) {\n      if (displayNamePath.length > 1 && displayNamePath[0] === 'exports') {\n        displayNamePath.shift();\n      }\n\n      var displayName = displayNamePath.join('.');\n\n      utils.catchup(right.arguments[0].range[0] + 1, state);\n      utils.append('displayName: \"' + displayName + '\",', state);\n    }\n  }\n}\n\nvisitReactDisplayName.test = function(object, path, state) {\n  return (\n    object.type === Syntax.AssignmentExpression ||\n    object.type === Syntax.Property ||\n    object.type === Syntax.VariableDeclarator\n  );\n};\n\nexports.visitorList = [\n  visitReactDisplayName\n];\n"]}