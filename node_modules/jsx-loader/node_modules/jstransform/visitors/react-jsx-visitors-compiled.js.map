{"version":3,"sources":["react-jsx-visitors.js"],"names":[],"mappings":"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","file":"react-jsx-visitors-compiled.js","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n'use strict';\n\n/*global exports:true*/\n\nvar Syntax = require('esprima-fb').Syntax;\nvar utils = require('../src/utils');\n\nvar jsxHelpers = require('./jsx-helpers');\n\nvar renderJSXExpressionContainer = jsxHelpers.renderJSXExpressionContainer;\nvar renderJSXLiteral = jsxHelpers.renderJSXLiteral;\nvar quoteAttrName = jsxHelpers.quoteAttrName;\nvar trimLeft = jsxHelpers.trimLeft;\n\n/**\n * Customized desugar processor for React JSX. Currently:\n *\n * <X> </X> => React.createElement(X, null)\n * <X prop=\"1\" /> => React.createElement(X, {prop: '1'}, null)\n * <X prop=\"2\"><Y /></X> => React.createElement(X, {prop:'2'},\n *   React.createElement(Y, null)\n * )\n * <div /> => React.createElement(\"div\", null)\n */\n\n/**\n * Removes all non-whitespace/parenthesis characters\n */\nvar reNonWhiteParen = /([^\\s\\(\\)])/g;\nfunction stripNonWhiteParen(value) {\n  return value.replace(reNonWhiteParen, '');\n}\n\nvar tagConvention = /^[a-z]|\\-/;\nfunction isTagName(name) {\n  return tagConvention.test(name);\n}\n\nfunction visitReactTag(traverse, object, path, state) {\n  var openingElement = object.openingElement;\n  var nameObject = openingElement.name;\n  var attributesObject = openingElement.attributes;\n\n  utils.catchup(openingElement.range[0], state, trimLeft);\n\n  if (nameObject.type === Syntax.JSXNamespacedName && nameObject.namespace) {\n    throw new Error('Namespace tags are not supported. ReactJSX is not XML.');\n  }\n\n  // We assume that the React runtime is already in scope\n  utils.append('React.createElement(', state);\n\n  if (nameObject.type === Syntax.JSXIdentifier && isTagName(nameObject.name)) {\n    utils.append('\"' + nameObject.name + '\"', state);\n    utils.move(nameObject.range[1], state);\n  } else {\n    // Use utils.catchup in this case so we can easily handle\n    // JSXMemberExpressions which look like Foo.Bar.Baz. This also handles\n    // JSXIdentifiers that aren't fallback tags.\n    utils.move(nameObject.range[0], state);\n    utils.catchup(nameObject.range[1], state);\n  }\n\n  utils.append(', ', state);\n\n  var hasAttributes = attributesObject.length;\n\n  var hasAtLeastOneSpreadProperty = attributesObject.some(function(attr) {\n    return attr.type === Syntax.JSXSpreadAttribute;\n  });\n\n  // if we don't have any attributes, pass in null\n  if (hasAtLeastOneSpreadProperty) {\n    utils.append('React.__spread({', state);\n  } else if (hasAttributes) {\n    utils.append('{', state);\n  } else {\n    utils.append('null', state);\n  }\n\n  // keep track of if the previous attribute was a spread attribute\n  var previousWasSpread = false;\n\n  // write attributes\n  attributesObject.forEach(function(attr, index) {\n    var isLast = index === attributesObject.length - 1;\n\n    if (attr.type === Syntax.JSXSpreadAttribute) {\n      // Close the previous object or initial object\n      if (!previousWasSpread) {\n        utils.append('}, ', state);\n      }\n\n      // Move to the expression start, ignoring everything except parenthesis\n      // and whitespace.\n      utils.catchup(attr.range[0], state, stripNonWhiteParen);\n      // Plus 1 to skip `{`.\n      utils.move(attr.range[0] + 1, state);\n      utils.catchup(attr.argument.range[0], state, stripNonWhiteParen);\n\n      traverse(attr.argument, path, state);\n\n      utils.catchup(attr.argument.range[1], state);\n\n      // Move to the end, ignoring parenthesis and the closing `}`\n      utils.catchup(attr.range[1] - 1, state, stripNonWhiteParen);\n\n      if (!isLast) {\n        utils.append(', ', state);\n      }\n\n      utils.move(attr.range[1], state);\n\n      previousWasSpread = true;\n\n      return;\n    }\n\n    // If the next attribute is a spread, we're effective last in this object\n    if (!isLast) {\n      isLast = attributesObject[index + 1].type === Syntax.JSXSpreadAttribute;\n    }\n\n    if (attr.name.namespace) {\n      throw new Error(\n         'Namespace attributes are not supported. ReactJSX is not XML.');\n    }\n    var name = attr.name.name;\n\n    utils.catchup(attr.range[0], state, trimLeft);\n\n    if (previousWasSpread) {\n      utils.append('{', state);\n    }\n\n    utils.append(quoteAttrName(name), state);\n    utils.append(': ', state);\n\n    if (!attr.value) {\n      state.g.buffer += 'true';\n      state.g.position = attr.name.range[1];\n      if (!isLast) {\n        utils.append(', ', state);\n      }\n    } else {\n      utils.move(attr.name.range[1], state);\n      // Use catchupNewlines to skip over the '=' in the attribute\n      utils.catchupNewlines(attr.value.range[0], state);\n      if (attr.value.type === Syntax.Literal) {\n        renderJSXLiteral(attr.value, isLast, state);\n      } else {\n        renderJSXExpressionContainer(traverse, attr.value, isLast, path, state);\n      }\n    }\n\n    utils.catchup(attr.range[1], state, trimLeft);\n\n    previousWasSpread = false;\n  });\n\n  if (!openingElement.selfClosing) {\n    utils.catchup(openingElement.range[1] - 1, state, trimLeft);\n    utils.move(openingElement.range[1], state);\n  }\n\n  if (hasAttributes && !previousWasSpread) {\n    utils.append('}', state);\n  }\n\n  if (hasAtLeastOneSpreadProperty) {\n    utils.append(')', state);\n  }\n\n  // filter out whitespace\n  var childrenToRender = object.children.filter(function(child) {\n    return !(child.type === Syntax.Literal\n             && typeof child.value === 'string'\n             && child.value.match(/^[ \\t]*[\\r\\n][ \\t\\r\\n]*$/));\n  });\n  if (childrenToRender.length > 0) {\n    var lastRenderableIndex;\n\n    childrenToRender.forEach(function(child, index) {\n      if (child.type !== Syntax.JSXExpressionContainer ||\n          child.expression.type !== Syntax.JSXEmptyExpression) {\n        lastRenderableIndex = index;\n      }\n    });\n\n    if (lastRenderableIndex !== undefined) {\n      utils.append(', ', state);\n    }\n\n    childrenToRender.forEach(function(child, index) {\n      utils.catchup(child.range[0], state, trimLeft);\n\n      var isLast = index >= lastRenderableIndex;\n\n      if (child.type === Syntax.Literal) {\n        renderJSXLiteral(child, isLast, state);\n      } else if (child.type === Syntax.JSXExpressionContainer) {\n        renderJSXExpressionContainer(traverse, child, isLast, path, state);\n      } else {\n        traverse(child, path, state);\n        if (!isLast) {\n          utils.append(', ', state);\n        }\n      }\n\n      utils.catchup(child.range[1], state, trimLeft);\n    });\n  }\n\n  if (openingElement.selfClosing) {\n    // everything up to />\n    utils.catchup(openingElement.range[1] - 2, state, trimLeft);\n    utils.move(openingElement.range[1], state);\n  } else {\n    // everything up to </ sdflksjfd>\n    utils.catchup(object.closingElement.range[0], state, trimLeft);\n    utils.move(object.closingElement.range[1], state);\n  }\n\n  utils.append(')', state);\n  return false;\n}\n\nvisitReactTag.test = function(object, path, state) {\n  return object.type === Syntax.JSXElement;\n};\n\nexports.visitorList = [\n  visitReactTag\n];\n"]}