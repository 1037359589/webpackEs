{"version":3,"sources":["EventPluginUtils.js"],"names":[],"mappings":"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","file":"EventPluginUtils-compiled.js","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventPluginUtils\n */\n\n'use strict';\n\nvar EventConstants = require('./EventConstants');\nvar ReactErrorUtils = require('./ReactErrorUtils');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Injected dependencies:\n */\n\n/**\n * - `Mount`: [required] Module that can convert between React dom IDs and\n *   actual node references.\n */\nvar injection = {\n  Mount: null,\n  injectMount: function (InjectedMount) {\n    injection.Mount = InjectedMount;\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(InjectedMount && InjectedMount.getNode && InjectedMount.getID, 'EventPluginUtils.injection.injectMount(...): Injected Mount ' + 'module is missing getNode or getID.') : undefined;\n    }\n  }\n};\n\nvar topLevelTypes = EventConstants.topLevelTypes;\n\nfunction isEndish(topLevelType) {\n  return topLevelType === topLevelTypes.topMouseUp || topLevelType === topLevelTypes.topTouchEnd || topLevelType === topLevelTypes.topTouchCancel;\n}\n\nfunction isMoveish(topLevelType) {\n  return topLevelType === topLevelTypes.topMouseMove || topLevelType === topLevelTypes.topTouchMove;\n}\nfunction isStartish(topLevelType) {\n  return topLevelType === topLevelTypes.topMouseDown || topLevelType === topLevelTypes.topTouchStart;\n}\n\nvar validateEventDispatches;\nif (process.env.NODE_ENV !== 'production') {\n  validateEventDispatches = function (event) {\n    var dispatchListeners = event._dispatchListeners;\n    var dispatchIDs = event._dispatchIDs;\n\n    var listenersIsArr = Array.isArray(dispatchListeners);\n    var idsIsArr = Array.isArray(dispatchIDs);\n    var IDsLen = idsIsArr ? dispatchIDs.length : dispatchIDs ? 1 : 0;\n    var listenersLen = listenersIsArr ? dispatchListeners.length : dispatchListeners ? 1 : 0;\n\n    process.env.NODE_ENV !== 'production' ? warning(idsIsArr === listenersIsArr && IDsLen === listenersLen, 'EventPluginUtils: Invalid `event`.') : undefined;\n  };\n}\n\n/**\n * Dispatch the event to the listener.\n * @param {SyntheticEvent} event SyntheticEvent to handle\n * @param {boolean} simulated If the event is simulated (changes exn behavior)\n * @param {function} listener Application-level callback\n * @param {string} domID DOM id to pass to the callback.\n */\nfunction executeDispatch(event, simulated, listener, domID) {\n  var type = event.type || 'unknown-event';\n  event.currentTarget = injection.Mount.getNode(domID);\n  if (simulated) {\n    ReactErrorUtils.invokeGuardedCallbackWithCatch(type, listener, event, domID);\n  } else {\n    ReactErrorUtils.invokeGuardedCallback(type, listener, event, domID);\n  }\n  event.currentTarget = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches.\n */\nfunction executeDispatchesInOrder(event, simulated) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchIDs = event._dispatchIDs;\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and IDs are two parallel arrays that are always in sync.\n      executeDispatch(event, simulated, dispatchListeners[i], dispatchIDs[i]);\n    }\n  } else if (dispatchListeners) {\n    executeDispatch(event, simulated, dispatchListeners, dispatchIDs);\n  }\n  event._dispatchListeners = null;\n  event._dispatchIDs = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches, but stops\n * at the first dispatch execution returning true, and returns that id.\n *\n * @return {?string} id of the first dispatch execution who's listener returns\n * true, or null if no listener returned true.\n */\nfunction executeDispatchesInOrderStopAtTrueImpl(event) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchIDs = event._dispatchIDs;\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and IDs are two parallel arrays that are always in sync.\n      if (dispatchListeners[i](event, dispatchIDs[i])) {\n        return dispatchIDs[i];\n      }\n    }\n  } else if (dispatchListeners) {\n    if (dispatchListeners(event, dispatchIDs)) {\n      return dispatchIDs;\n    }\n  }\n  return null;\n}\n\n/**\n * @see executeDispatchesInOrderStopAtTrueImpl\n */\nfunction executeDispatchesInOrderStopAtTrue(event) {\n  var ret = executeDispatchesInOrderStopAtTrueImpl(event);\n  event._dispatchIDs = null;\n  event._dispatchListeners = null;\n  return ret;\n}\n\n/**\n * Execution of a \"direct\" dispatch - there must be at most one dispatch\n * accumulated on the event or it is considered an error. It doesn't really make\n * sense for an event with multiple dispatches (bubbled) to keep track of the\n * return values at each dispatch execution, but it does tend to make sense when\n * dealing with \"direct\" dispatches.\n *\n * @return {*} The return value of executing the single dispatch.\n */\nfunction executeDirectDispatch(event) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  var dispatchListener = event._dispatchListeners;\n  var dispatchID = event._dispatchIDs;\n  !!Array.isArray(dispatchListener) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'executeDirectDispatch(...): Invalid `event`.') : invariant(false) : undefined;\n  var res = dispatchListener ? dispatchListener(event, dispatchID) : null;\n  event._dispatchListeners = null;\n  event._dispatchIDs = null;\n  return res;\n}\n\n/**\n * @param {SyntheticEvent} event\n * @return {boolean} True iff number of dispatches accumulated is greater than 0.\n */\nfunction hasDispatches(event) {\n  return !!event._dispatchListeners;\n}\n\n/**\n * General utilities that are useful in creating custom Event Plugins.\n */\nvar EventPluginUtils = {\n  isEndish: isEndish,\n  isMoveish: isMoveish,\n  isStartish: isStartish,\n\n  executeDirectDispatch: executeDirectDispatch,\n  executeDispatchesInOrder: executeDispatchesInOrder,\n  executeDispatchesInOrderStopAtTrue: executeDispatchesInOrderStopAtTrue,\n  hasDispatches: hasDispatches,\n\n  getNode: function (id) {\n    return injection.Mount.getNode(id);\n  },\n  getID: function (node) {\n    return injection.Mount.getID(node);\n  },\n\n  injection: injection\n};\n\nmodule.exports = EventPluginUtils;"]}