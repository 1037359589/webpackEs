{"version":3,"sources":["ReactCSSTransitionGroupChild.js"],"names":[],"mappings":"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","file":"ReactCSSTransitionGroupChild-compiled.js","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n * @providesModule ReactCSSTransitionGroupChild\n */\n\n'use strict';\n\nvar React = require('./React');\nvar ReactDOM = require('./ReactDOM');\n\nvar CSSCore = require('fbjs/lib/CSSCore');\nvar ReactTransitionEvents = require('./ReactTransitionEvents');\n\nvar onlyChild = require('./onlyChild');\n\n// We don't remove the element from the DOM until we receive an animationend or\n// transitionend event. If the user screws up and forgets to add an animation\n// their node will be stuck in the DOM forever, so we detect if an animation\n// does not start and if it doesn't, we just call the end listener immediately.\nvar TICK = 17;\n\nvar ReactCSSTransitionGroupChild = React.createClass({\n  displayName: 'ReactCSSTransitionGroupChild',\n\n  propTypes: {\n    name: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.shape({\n      enter: React.PropTypes.string,\n      leave: React.PropTypes.string,\n      active: React.PropTypes.string\n    }), React.PropTypes.shape({\n      enter: React.PropTypes.string,\n      enterActive: React.PropTypes.string,\n      leave: React.PropTypes.string,\n      leaveActive: React.PropTypes.string,\n      appear: React.PropTypes.string,\n      appearActive: React.PropTypes.string\n    })]).isRequired,\n\n    // Once we require timeouts to be specified, we can remove the\n    // boolean flags (appear etc.) and just accept a number\n    // or a bool for the timeout flags (appearTimeout etc.)\n    appear: React.PropTypes.bool,\n    enter: React.PropTypes.bool,\n    leave: React.PropTypes.bool,\n    appearTimeout: React.PropTypes.number,\n    enterTimeout: React.PropTypes.number,\n    leaveTimeout: React.PropTypes.number\n  },\n\n  transition: function (animationType, finishCallback, userSpecifiedDelay) {\n    var node = ReactDOM.findDOMNode(this);\n\n    if (!node) {\n      if (finishCallback) {\n        finishCallback();\n      }\n      return;\n    }\n\n    var className = this.props.name[animationType] || this.props.name + '-' + animationType;\n    var activeClassName = this.props.name[animationType + 'Active'] || className + '-active';\n    var timeout = null;\n\n    var endListener = function (e) {\n      if (e && e.target !== node) {\n        return;\n      }\n\n      clearTimeout(timeout);\n\n      CSSCore.removeClass(node, className);\n      CSSCore.removeClass(node, activeClassName);\n\n      ReactTransitionEvents.removeEndEventListener(node, endListener);\n\n      // Usually this optional callback is used for informing an owner of\n      // a leave animation and telling it to remove the child.\n      if (finishCallback) {\n        finishCallback();\n      }\n    };\n\n    CSSCore.addClass(node, className);\n\n    // Need to do this to actually trigger a transition.\n    this.queueClass(activeClassName);\n\n    // If the user specified a timeout delay.\n    if (userSpecifiedDelay) {\n      // Clean-up the animation after the specified delay\n      timeout = setTimeout(endListener, userSpecifiedDelay);\n      this.transitionTimeouts.push(timeout);\n    } else {\n      // DEPRECATED: this listener will be removed in a future version of react\n      ReactTransitionEvents.addEndEventListener(node, endListener);\n    }\n  },\n\n  queueClass: function (className) {\n    this.classNameQueue.push(className);\n\n    if (!this.timeout) {\n      this.timeout = setTimeout(this.flushClassNameQueue, TICK);\n    }\n  },\n\n  flushClassNameQueue: function () {\n    if (this.isMounted()) {\n      this.classNameQueue.forEach(CSSCore.addClass.bind(CSSCore, ReactDOM.findDOMNode(this)));\n    }\n    this.classNameQueue.length = 0;\n    this.timeout = null;\n  },\n\n  componentWillMount: function () {\n    this.classNameQueue = [];\n    this.transitionTimeouts = [];\n  },\n\n  componentWillUnmount: function () {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    this.transitionTimeouts.forEach(function (timeout) {\n      clearTimeout(timeout);\n    });\n  },\n\n  componentWillAppear: function (done) {\n    if (this.props.appear) {\n      this.transition('appear', done, this.props.appearTimeout);\n    } else {\n      done();\n    }\n  },\n\n  componentWillEnter: function (done) {\n    if (this.props.enter) {\n      this.transition('enter', done, this.props.enterTimeout);\n    } else {\n      done();\n    }\n  },\n\n  componentWillLeave: function (done) {\n    if (this.props.leave) {\n      this.transition('leave', done, this.props.leaveTimeout);\n    } else {\n      done();\n    }\n  },\n\n  render: function () {\n    return onlyChild(this.props.children);\n  }\n});\n\nmodule.exports = ReactCSSTransitionGroupChild;"]}