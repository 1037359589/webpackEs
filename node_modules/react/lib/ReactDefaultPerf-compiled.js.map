{"version":3,"sources":["ReactDefaultPerf.js"],"names":[],"mappings":"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","file":"ReactDefaultPerf-compiled.js","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactDefaultPerf\n * @typechecks static-only\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar ReactDefaultPerfAnalysis = require('./ReactDefaultPerfAnalysis');\nvar ReactMount = require('./ReactMount');\nvar ReactPerf = require('./ReactPerf');\n\nvar performanceNow = require('fbjs/lib/performanceNow');\n\nfunction roundFloat(val) {\n  return Math.floor(val * 100) / 100;\n}\n\nfunction addValue(obj, key, val) {\n  obj[key] = (obj[key] || 0) + val;\n}\n\nvar ReactDefaultPerf = {\n  _allMeasurements: [], // last item in the list is the current one\n  _mountStack: [0],\n  _injected: false,\n\n  start: function () {\n    if (!ReactDefaultPerf._injected) {\n      ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure);\n    }\n\n    ReactDefaultPerf._allMeasurements.length = 0;\n    ReactPerf.enableMeasure = true;\n  },\n\n  stop: function () {\n    ReactPerf.enableMeasure = false;\n  },\n\n  getLastMeasurements: function () {\n    return ReactDefaultPerf._allMeasurements;\n  },\n\n  printExclusive: function (measurements) {\n    measurements = measurements || ReactDefaultPerf._allMeasurements;\n    var summary = ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);\n    console.table(summary.map(function (item) {\n      return {\n        'Component class name': item.componentName,\n        'Total inclusive time (ms)': roundFloat(item.inclusive),\n        'Exclusive mount time (ms)': roundFloat(item.exclusive),\n        'Exclusive render time (ms)': roundFloat(item.render),\n        'Mount time per instance (ms)': roundFloat(item.exclusive / item.count),\n        'Render time per instance (ms)': roundFloat(item.render / item.count),\n        'Instances': item.count\n      };\n    }));\n    // TODO: ReactDefaultPerfAnalysis.getTotalTime() does not return the correct\n    // number.\n  },\n\n  printInclusive: function (measurements) {\n    measurements = measurements || ReactDefaultPerf._allMeasurements;\n    var summary = ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);\n    console.table(summary.map(function (item) {\n      return {\n        'Owner > component': item.componentName,\n        'Inclusive time (ms)': roundFloat(item.time),\n        'Instances': item.count\n      };\n    }));\n    console.log('Total time:', ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');\n  },\n\n  getMeasurementsSummaryMap: function (measurements) {\n    var summary = ReactDefaultPerfAnalysis.getInclusiveSummary(measurements, true);\n    return summary.map(function (item) {\n      return {\n        'Owner > component': item.componentName,\n        'Wasted time (ms)': item.time,\n        'Instances': item.count\n      };\n    });\n  },\n\n  printWasted: function (measurements) {\n    measurements = measurements || ReactDefaultPerf._allMeasurements;\n    console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));\n    console.log('Total time:', ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');\n  },\n\n  printDOM: function (measurements) {\n    measurements = measurements || ReactDefaultPerf._allMeasurements;\n    var summary = ReactDefaultPerfAnalysis.getDOMSummary(measurements);\n    console.table(summary.map(function (item) {\n      var result = {};\n      result[DOMProperty.ID_ATTRIBUTE_NAME] = item.id;\n      result.type = item.type;\n      result.args = JSON.stringify(item.args);\n      return result;\n    }));\n    console.log('Total time:', ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');\n  },\n\n  _recordWrite: function (id, fnName, totalTime, args) {\n    // TODO: totalTime isn't that useful since it doesn't count paints/reflows\n    var writes = ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length - 1].writes;\n    writes[id] = writes[id] || [];\n    writes[id].push({\n      type: fnName,\n      time: totalTime,\n      args: args\n    });\n  },\n\n  measure: function (moduleName, fnName, func) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var totalTime;\n      var rv;\n      var start;\n\n      if (fnName === '_renderNewRootComponent' || fnName === 'flushBatchedUpdates') {\n        // A \"measurement\" is a set of metrics recorded for each flush. We want\n        // to group the metrics for a given flush together so we can look at the\n        // components that rendered and the DOM operations that actually\n        // happened to determine the amount of \"wasted work\" performed.\n        ReactDefaultPerf._allMeasurements.push({\n          exclusive: {},\n          inclusive: {},\n          render: {},\n          counts: {},\n          writes: {},\n          displayNames: {},\n          totalTime: 0,\n          created: {}\n        });\n        start = performanceNow();\n        rv = func.apply(this, args);\n        ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length - 1].totalTime = performanceNow() - start;\n        return rv;\n      } else if (fnName === '_mountImageIntoNode' || moduleName === 'ReactBrowserEventEmitter' || moduleName === 'ReactDOMIDOperations' || moduleName === 'CSSPropertyOperations' || moduleName === 'DOMChildrenOperations' || moduleName === 'DOMPropertyOperations') {\n        start = performanceNow();\n        rv = func.apply(this, args);\n        totalTime = performanceNow() - start;\n\n        if (fnName === '_mountImageIntoNode') {\n          var mountID = ReactMount.getID(args[1]);\n          ReactDefaultPerf._recordWrite(mountID, fnName, totalTime, args[0]);\n        } else if (fnName === 'dangerouslyProcessChildrenUpdates') {\n          // special format\n          args[0].forEach(function (update) {\n            var writeArgs = {};\n            if (update.fromIndex !== null) {\n              writeArgs.fromIndex = update.fromIndex;\n            }\n            if (update.toIndex !== null) {\n              writeArgs.toIndex = update.toIndex;\n            }\n            if (update.textContent !== null) {\n              writeArgs.textContent = update.textContent;\n            }\n            if (update.markupIndex !== null) {\n              writeArgs.markup = args[1][update.markupIndex];\n            }\n            ReactDefaultPerf._recordWrite(update.parentID, update.type, totalTime, writeArgs);\n          });\n        } else {\n          // basic format\n          var id = args[0];\n          if (typeof id === 'object') {\n            id = ReactMount.getID(args[0]);\n          }\n          ReactDefaultPerf._recordWrite(id, fnName, totalTime, Array.prototype.slice.call(args, 1));\n        }\n        return rv;\n      } else if (moduleName === 'ReactCompositeComponent' && (fnName === 'mountComponent' || fnName === 'updateComponent' || // TODO: receiveComponent()?\n      fnName === '_renderValidatedComponent')) {\n\n        if (this._currentElement.type === ReactMount.TopLevelWrapper) {\n          return func.apply(this, args);\n        }\n\n        var rootNodeID = fnName === 'mountComponent' ? args[0] : this._rootNodeID;\n        var isRender = fnName === '_renderValidatedComponent';\n        var isMount = fnName === 'mountComponent';\n\n        var mountStack = ReactDefaultPerf._mountStack;\n        var entry = ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length - 1];\n\n        if (isRender) {\n          addValue(entry.counts, rootNodeID, 1);\n        } else if (isMount) {\n          entry.created[rootNodeID] = true;\n          mountStack.push(0);\n        }\n\n        start = performanceNow();\n        rv = func.apply(this, args);\n        totalTime = performanceNow() - start;\n\n        if (isRender) {\n          addValue(entry.render, rootNodeID, totalTime);\n        } else if (isMount) {\n          var subMountTime = mountStack.pop();\n          mountStack[mountStack.length - 1] += totalTime;\n          addValue(entry.exclusive, rootNodeID, totalTime - subMountTime);\n          addValue(entry.inclusive, rootNodeID, totalTime);\n        } else {\n          addValue(entry.inclusive, rootNodeID, totalTime);\n        }\n\n        entry.displayNames[rootNodeID] = {\n          current: this.getName(),\n          owner: this._currentElement._owner ? this._currentElement._owner.getName() : '<root>'\n        };\n\n        return rv;\n      } else {\n        return func.apply(this, args);\n      }\n    };\n  }\n};\n\nmodule.exports = ReactDefaultPerf;"]}