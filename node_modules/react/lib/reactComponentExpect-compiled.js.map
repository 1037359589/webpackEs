{"version":3,"sources":["reactComponentExpect.js"],"names":[],"mappings":"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","file":"reactComponentExpect-compiled.js","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule reactComponentExpect\n * @nolint\n */\n\n'use strict';\n\nvar ReactInstanceMap = require('./ReactInstanceMap');\nvar ReactTestUtils = require('./ReactTestUtils');\n\nvar assign = require('./Object.assign');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction reactComponentExpect(instance) {\n  if (instance instanceof reactComponentExpectInternal) {\n    return instance;\n  }\n\n  if (!(this instanceof reactComponentExpect)) {\n    return new reactComponentExpect(instance);\n  }\n\n  expect(instance).not.toBeNull();\n  expect(instance).not.toBeUndefined();\n\n  !ReactTestUtils.isCompositeComponent(instance) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'reactComponentExpect(...): instance must be a composite component') : invariant(false) : undefined;\n  var internalInstance = ReactInstanceMap.get(instance);\n\n  expect(typeof internalInstance).toBe('object');\n  expect(typeof internalInstance.constructor).toBe('function');\n  expect(ReactTestUtils.isElement(internalInstance)).toBe(false);\n\n  return new reactComponentExpectInternal(internalInstance);\n}\n\nfunction reactComponentExpectInternal(internalInstance) {\n  this._instance = internalInstance;\n}\n\nassign(reactComponentExpectInternal.prototype, {\n  // Getters -------------------------------------------------------------------\n\n  /**\n   * @instance: Retrieves the backing instance.\n   */\n  instance: function () {\n    return this._instance.getPublicInstance();\n  },\n\n  /**\n   * There are two types of components in the world.\n   * - A component created via React.createClass() - Has a single child\n   *   subComponent - the return value from the .render() function. This\n   *   function @subComponent expects that this._instance is component created\n   *   with React.createClass().\n   * - A primitive DOM component - which has many renderedChildren, each of\n   *   which may have a name that is unique with respect to its siblings. This\n   *   method will fail if this._instance is a primitive component.\n   *\n   * TL;DR: An instance may have a subComponent (this._renderedComponent) or\n   * renderedChildren, but never both. Neither will actually show up until you\n   * render the component (simply instantiating is not enough).\n   */\n  expectRenderedChild: function () {\n    this.toBeCompositeComponent();\n    var child = this._instance._renderedComponent;\n    // TODO: Hide ReactEmptyComponent instances here?\n    return new reactComponentExpectInternal(child);\n  },\n\n  /**\n   * The nth child of a DOMish component instance that is not falsy.\n   */\n  expectRenderedChildAt: function (childIndex) {\n    // Currently only dom components have arrays of children, but that will\n    // change soon.\n    this.toBeDOMComponent();\n    var renderedChildren = this._instance._renderedChildren || {};\n    for (var name in renderedChildren) {\n      if (!renderedChildren.hasOwnProperty(name)) {\n        continue;\n      }\n      if (renderedChildren[name]) {\n        if (renderedChildren[name]._mountIndex === childIndex) {\n          return new reactComponentExpectInternal(renderedChildren[name]);\n        }\n      }\n    }\n    throw new Error('Child:' + childIndex + ' is not found');\n  },\n\n  toBeDOMComponentWithChildCount: function (count) {\n    this.toBeDOMComponent();\n    var renderedChildren = this._instance._renderedChildren;\n    expect(renderedChildren).toBeTruthy();\n    expect(Object.keys(renderedChildren).length).toBe(count);\n    return this;\n  },\n\n  toBeDOMComponentWithNoChildren: function () {\n    this.toBeDOMComponent();\n    expect(this._instance._renderedChildren).toBeFalsy();\n    return this;\n  },\n\n  // Matchers ------------------------------------------------------------------\n\n  toBeComponentOfType: function (constructor) {\n    expect(this._instance._currentElement.type === constructor).toBe(true);\n    return this;\n  },\n\n  /**\n   * A component that is created with React.createClass. Just duck typing\n   * here.\n   */\n  toBeCompositeComponent: function () {\n    expect(typeof this.instance() === 'object' && typeof this.instance().render === 'function').toBe(true);\n    return this;\n  },\n\n  toBeCompositeComponentWithType: function (constructor) {\n    this.toBeCompositeComponent();\n    expect(this._instance._currentElement.type === constructor).toBe(true);\n    return this;\n  },\n\n  toBeTextComponentWithValue: function (val) {\n    var elementType = typeof this._instance._currentElement;\n    expect(elementType === 'string' || elementType === 'number').toBe(true);\n    expect(this._instance._stringText).toBe(val);\n    return this;\n  },\n\n  toBeEmptyComponent: function () {\n    var element = this._instance._currentElement;\n    return element === null || element === false;\n  },\n\n  toBePresent: function () {\n    expect(this.instance()).toBeTruthy();\n    return this;\n  },\n\n  /**\n   * A terminal type of component representing some virtual dom node. Just duck\n   * typing here.\n   */\n  toBeDOMComponent: function () {\n    expect(ReactTestUtils.isDOMComponent(this.instance())).toBe(true);\n    return this;\n  },\n\n  /**\n   * @deprecated\n   * @see toBeComponentOfType\n   */\n  toBeDOMComponentWithTag: function (tag) {\n    this.toBeDOMComponent();\n    expect(this.instance().tagName).toBe(tag.toUpperCase());\n    return this;\n  },\n\n  /**\n   * Check that internal state values are equal to a state of expected values.\n   */\n  scalarStateEqual: function (stateNameToExpectedValue) {\n    expect(this.instance()).toBeTruthy();\n    for (var stateName in stateNameToExpectedValue) {\n      if (!stateNameToExpectedValue.hasOwnProperty(stateName)) {\n        continue;\n      }\n      expect(this.instance().state[stateName]).toEqual(stateNameToExpectedValue[stateName]);\n    }\n    return this;\n  },\n\n  /**\n   * Check a set of props are equal to a set of expected values - only works\n   * with scalars.\n   */\n  scalarPropsEqual: function (propNameToExpectedValue) {\n    expect(this.instance()).toBeTruthy();\n    for (var propName in propNameToExpectedValue) {\n      if (!propNameToExpectedValue.hasOwnProperty(propName)) {\n        continue;\n      }\n      expect(this.instance().props[propName]).toEqual(propNameToExpectedValue[propName]);\n    }\n    return this;\n  },\n\n  /**\n   * Check a set of props are equal to a set of expected values - only works\n   * with scalars.\n   */\n  scalarContextEqual: function (contextNameToExpectedValue) {\n    expect(this.instance()).toBeTruthy();\n    for (var contextName in contextNameToExpectedValue) {\n      if (!contextNameToExpectedValue.hasOwnProperty(contextName)) {\n        continue;\n      }\n      expect(this.instance().context[contextName]).toEqual(contextNameToExpectedValue[contextName]);\n    }\n    return this;\n  }\n});\n\nmodule.exports = reactComponentExpect;"]}