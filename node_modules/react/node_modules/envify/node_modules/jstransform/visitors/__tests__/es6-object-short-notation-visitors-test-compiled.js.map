{"version":3,"sources":["es6-object-short-notation-visitors-test.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAO,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC;;AAEtC,QAAQ,CAAC,oCAAoC,EAAE,YAAW;AACxD,MAAI,WAAW,CAAC;;AAEhB,MAAI,qBAAqB,CAAC;AAC1B,MAAI,oBAAoB,CAAC;;AAEzB,MAAI,QAAQ,CAAC;;AAEb,YAAU,CAAC,YAAW;AACpB,WAAO,CAAC,cAAc,CAAC,CAAC,SAAS,EAAE,CAAC;AACpC,eAAW,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC;;AAEzD,wBAAoB,GAAG,OAAO,CAAC,uCAAuC,CAAC,CAAC,WAAW,CAAC;AACpF,yBAAqB,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC,WAAW,CAAC;;AAE7E,YAAQ,GAAG,oBAAoB,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;GAC/D,CAAC,CAAC;;AAEH,WAAS,SAAS,CAAC,IAAI,EAAE;AACvB,WAAO,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;GACzC;;AAED,WAAS,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE;AACrC,UAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACzC;;;;AAAA,AAID,IAAE,CAAC,8CAA8C,EAAE,YAAW;AAC5D,QAAI,IAAI,GAAG,SAAS,CAAC,CACnB,mBAAmB,EACnB,sBAAsB,EACtB,2BAA2B,EAC3B,WAAW,CACZ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEd,UAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;GAC/B,CAAC,CAAC;;AAEH,IAAE,CAAC,wDAAwD,EAAE,YAAW;AACtE,QAAI,IAAI,GAAG,SAAS,CAAC,CACnB,mBAAmB,EACnB,qBAAqB,EACrB,sBAAsB,EACtB,2BAA2B,EAC3B,aAAa,CACd,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEd,UAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;GAChC,CAAC;;;AAAC,AAGH,IAAE,CAAC,wCAAwC,EAAE,YAAW;;;AAGtD,mBAAe,CACb,uCAAuC,EACvC,2CAA2C,CAC5C;;;AAAC,AAGF,mBAAe,CAAC,CACd,UAAU,EACV,EAAE,EACF,UAAU,EACV,QAAQ,EACR,aAAa,EACb,EAAE,EACF,GAAG,EACH,EAAE,EACF,WAAW,EACX,mBAAmB,EACnB,cAAc,EACd,OAAO,EACP,GAAG,CACJ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CACZ,UAAU,EACV,EAAE,EACF,UAAU,EACV,QAAQ,EACR,aAAa,EACb,EAAE,EACF,GAAG,EACH,EAAE,EACF,WAAW,EACX,mBAAmB,EACnB,gBAAgB,EAChB,SAAS,EACT,GAAG,CACJ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GACf,CAAC,CAAC;CAEJ,CAAC,CAAC","file":"es6-object-short-notation-visitors-test-compiled.js","sourcesContent":["/**\n * Copyright 2013 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @emails dmitrys@fb.com\n */\n\n/*jshint evil:true*/\n\nrequire('mock-modules').autoMockOff();\n\ndescribe('es6-object-short-notation-visitors', function() {\n  var transformFn;\n\n  var destructuringVisitors;\n  var shortObjectsVisitors;\n\n  var visitors;\n\n  beforeEach(function() {\n    require('mock-modules').dumpCache();\n    transformFn = require('../../src/jstransform').transform;\n\n    shortObjectsVisitors = require('../es6-object-short-notation-visitors').visitorList;\n    destructuringVisitors = require('../es6-destructuring-visitors').visitorList;\n\n    visitors = shortObjectsVisitors.concat(destructuringVisitors);\n  });\n\n  function transform(code) {\n    return transformFn(visitors, code).code;\n  }\n\n  function expectTransform(code, result) {\n    expect(transform(code)).toEqual(result);\n  }\n\n  // Functional tests.\n\n  it('should transform short notation and return 5', function() {\n    var code = transform([\n      '(function(x, y) {',\n      '  var data = {x, y};',\n      '  return data.x + data.y;',\n      '})(2, 3);'\n    ].join('\\n'));\n\n    expect(eval(code)).toEqual(5);\n  });\n\n  it('should transform work with destructuring and return 10', function() {\n    var code = transform([\n      'var x = 5, y = 5;',\n      '(function({x, y}) {',\n      '  var data = {x, y};',\n      '  return data.x + data.y;',\n      '})({x, y});'\n    ].join('\\n'));\n\n    expect(eval(code)).toEqual(10);\n  });\n\n  // Source code tests.\n  it('should transform simple short notation', function() {\n\n    // Should transform simple short notation.\n    expectTransform(\n      'function foo(x, y) { return {x, y}; }',\n      'function foo(x, y) { return {x:x, y:y}; }'\n    );\n\n    // Should preserve lines transforming ugly code.\n    expectTransform([\n      'function',\n      '',\n      'foo    (',\n      '    x,',\n      '          y',\n      '',\n      ')',\n      '',\n      '        {',\n      ' return         {',\n      '          x,',\n      '  y};',\n      '}'\n    ].join('\\n'), [\n      'function',\n      '',\n      'foo    (',\n      '    x,',\n      '          y',\n      '',\n      ')',\n      '',\n      '        {',\n      ' return         {',\n      '          x:x,',\n      '  y:y};',\n      '}'\n    ].join('\\n'));\n  });\n\n});\n\n\n"]}