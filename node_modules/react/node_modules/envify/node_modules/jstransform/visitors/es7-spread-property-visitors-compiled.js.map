{"version":3,"sources":["es7-spread-property-visitors.js"],"names":[],"mappings":"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","file":"es7-spread-property-visitors-compiled.js","sourcesContent":["/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n */\n/*global exports:true*/\n\n/**\n * Implements ES7 object spread property.\n * https://gist.github.com/sebmarkbage/aa849c7973cb4452c547\n *\n * { ...a, x: 1 }\n *\n * Object.assign({}, a, {x: 1 })\n *\n */\n\nvar Syntax = require('esprima-fb').Syntax;\nvar utils = require('../src/utils');\n\nfunction visitObjectLiteralSpread(traverse, node, path, state) {\n  utils.catchup(node.range[0], state);\n\n  utils.append('Object.assign({', state);\n\n  // Skip the original {\n  utils.move(node.range[0] + 1, state);\n\n  var previousWasSpread = false;\n\n  for (var i = 0; i < node.properties.length; i++) {\n    var property = node.properties[i];\n    if (property.type === Syntax.SpreadProperty) {\n\n      // Close the previous object or initial object\n      if (!previousWasSpread) {\n        utils.append('}', state);\n      }\n\n      if (i === 0) {\n        // Normally there will be a comma when we catch up, but not before\n        // the first property.\n        utils.append(',', state);\n      }\n\n      utils.catchup(property.range[0], state);\n\n      // skip ...\n      utils.move(property.range[0] + 3, state);\n\n      traverse(property.argument, path, state);\n\n      utils.catchup(property.range[1], state);\n\n      previousWasSpread = true;\n\n    } else {\n\n      utils.catchup(property.range[0], state);\n\n      if (previousWasSpread) {\n        utils.append('{', state);\n      }\n\n      traverse(property, path, state);\n\n      utils.catchup(property.range[1], state);\n\n      previousWasSpread = false;\n\n    }\n  }\n\n  // Strip any non-whitespace between the last item and the end.\n  // We only catch up on whitespace so that we ignore any trailing commas which\n  // are stripped out for IE8 support. Unfortunately, this also strips out any\n  // trailing comments.\n  utils.catchupWhiteSpace(node.range[1] - 1, state);\n\n  // Skip the trailing }\n  utils.move(node.range[1], state);\n\n  if (!previousWasSpread) {\n    utils.append('}', state);\n  }\n\n  utils.append(')', state);\n  return false;\n}\n\nvisitObjectLiteralSpread.test = function(node, path, state) {\n  if (node.type !== Syntax.ObjectExpression) {\n    return false;\n  }\n  // Tight loop optimization\n  var hasAtLeastOneSpreadProperty = false;\n  for (var i = 0; i < node.properties.length; i++) {\n    var property = node.properties[i];\n    if (property.type === Syntax.SpreadProperty) {\n      hasAtLeastOneSpreadProperty = true;\n    } else if (property.kind !== 'init') {\n      return false;\n    }\n  }\n  return hasAtLeastOneSpreadProperty;\n};\n\nexports.visitorList = [\n  visitObjectLiteralSpread\n];\n"]}