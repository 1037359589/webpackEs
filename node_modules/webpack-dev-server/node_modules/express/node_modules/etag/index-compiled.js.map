{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*!\n * etag\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = etag\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar crypto = require('crypto')\nvar Stats = require('fs').Stats\n\n/**\n * Module variables.\n * @private\n */\n\nvar base64PadCharRegExp = /=+$/\nvar toString = Object.prototype.toString\n\n/**\n * Generate an entity tag.\n *\n * @param {Buffer|string} entity\n * @return {string}\n * @private\n */\n\nfunction entitytag(entity) {\n  if (entity.length === 0) {\n    // fast-path empty\n    return '\"0-1B2M2Y8AsgTpgAmY7PhCfg\"'\n  }\n\n  // compute hash of entity\n  var hash = crypto\n    .createHash('md5')\n    .update(entity, 'utf8')\n    .digest('base64')\n    .replace(base64PadCharRegExp, '')\n\n  // compute length of entity\n  var len = typeof entity === 'string'\n    ? Buffer.byteLength(entity, 'utf8')\n    : entity.length\n\n  return '\"' + len.toString(16) + '-' + hash + '\"'\n}\n\n/**\n * Create a simple ETag.\n *\n * @param {string|Buffer|Stats} entity\n * @param {object} [options]\n * @param {boolean} [options.weak]\n * @return {String}\n * @public\n */\n\nfunction etag(entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required')\n  }\n\n  // support fs.Stats object\n  var isStats = isstats(entity)\n  var weak = options && typeof options.weak === 'boolean'\n    ? options.weak\n    : isStats\n\n  // validate argument\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\n  }\n\n  // generate entity tag\n  var tag = isStats\n    ? stattag(entity)\n    : entitytag(entity)\n\n  return weak\n    ? 'W/' + tag\n    : tag\n}\n\n/**\n * Determine if object is a Stats object.\n *\n * @param {object} obj\n * @return {boolean}\n * @api private\n */\n\nfunction isstats(obj) {\n  // genuine fs.Stats\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true\n  }\n\n  // quack quack\n  return obj && typeof obj === 'object'\n    && 'ctime' in obj && toString.call(obj.ctime) === '[object Date]'\n    && 'mtime' in obj && toString.call(obj.mtime) === '[object Date]'\n    && 'ino' in obj && typeof obj.ino === 'number'\n    && 'size' in obj && typeof obj.size === 'number'\n}\n\n/**\n * Generate a tag for a stat.\n *\n * @param {object} stat\n * @return {string}\n * @private\n */\n\nfunction stattag(stat) {\n  var mtime = stat.mtime.getTime().toString(16)\n  var size = stat.size.toString(16)\n\n  return '\"' + size + '-' + mtime + '\"'\n}\n"]}