{"version":3,"sources":["eventtarget.js"],"names":[],"mappings":"AAAA;;;;;;AAAY,CAAC;AAMb,SAAS,WAAW,GAAG;AACrB,MAAI,CAAC,UAAU,GAAG,EAAE,CAAC;CACtB;;AAED,WAAW,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAS,SAAS,EAAE,QAAQ,EAAE;AACrE,MAAI,EAAE,SAAS,IAAI,IAAI,CAAC,UAAU,CAAA,AAAC,EAAE;AACnC,QAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;GACjC;AACD,MAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;;AAAC,AAErC,MAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;;AAEhC,OAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;GAC9B;AACD,MAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC;CAClC,CAAC;;AAEF,WAAW,CAAC,SAAS,CAAC,mBAAmB,GAAG,UAAS,SAAS,EAAE,QAAQ,EAAE;AACxE,MAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACrC,MAAI,CAAC,GAAG,EAAE;AACR,WAAO;GACR;AACD,MAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAChC,MAAI,GAAG,KAAK,CAAC,CAAC,EAAE;AACd,QAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;;AAElB,UAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;KAC3E,MAAM;AACL,aAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;KACnC;AACD,WAAO;GACR;CACF,CAAC;;AAEF,WAAW,CAAC,SAAS,CAAC,aAAa,GAAG,UAAS,KAAK,EAAE;AACpD,MAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AACnB,MAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;;;;;AAAC,AAKpD,MAAI,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE;AAClB,QAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;GAClC;AACD,MAAI,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;;AAExB,QAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACnC,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,eAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAChC;GACF;CACF,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC","file":"eventtarget-compiled.js","sourcesContent":["'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function(event) {\n  var t = event.type;\n  var args = Array.prototype.slice.call(arguments, 0);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n"]}