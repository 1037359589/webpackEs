{"version":3,"sources":["autobahn_client.js"],"names":[],"mappings":"AAAA,IAAI,SAAS,GAAG,OAAO,CAAC,uBAAuB,CAAC;IAC5C,IAAI,GAAQ,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEhC,IAAI,IAAI,GAAI,qBAAqB;IAC7B,KAAK,GAAG,OAAO,GAAG,OAAO,CAAC,OAAO;IACjC,KAAK,GAAG,CAAC;IACT,IAAI,GAAI,EAAE,CAAC;;AAEf,IAAI,MAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC;IACrD,QAAQ,CAAC;;AAEb,MAAM,CAAC,SAAS,GAAG,UAAS,KAAK,EAAE;AACjC,SAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;AACjD,OAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7B,UAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;CACxB,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,YAAW;AAC1B,MAAI,OAAO,GAAG,UAAS,CAAC,EAAE;AACxB,YAAQ,CAAC,EAAE,EAAE,CAAC;;AAEd,QAAI,CAAC,GAAG,KAAK,EAAE;AACb,YAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,GAAG,uBAAuB,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;AAC1F,YAAM,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;KAE/B,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;AAC/B,aAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KAEhB,MAAM;AACL,YAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,GAAG,gBAAgB,GAAG,CAAC,GAAG,SAAS,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;AACnG,YAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpB,YAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AAAE,eAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;OAAE,CAAC,CAAC;KACnD;GACF,CAAC;;AAEF,SAAO,CAAC,CAAC,CAAC,CAAC;CACZ,CAAC","file":"autobahn_client-compiled.js","sourcesContent":["var WebSocket = require('../lib/faye/websocket'),\n    pace      = require('pace');\n\nvar host  = 'ws://localhost:9001',\n    agent = 'Node ' + process.version,\n    cases = 0,\n    skip  = [];\n\nvar socket = new WebSocket.Client(host + '/getCaseCount'),\n    progress;\n\nsocket.onmessage = function(event) {\n  console.log('Total cases to run: ' + event.data);\n  cases = parseInt(event.data);\n  progress = pace(cases);\n};\n\nsocket.onclose = function() {\n  var runCase = function(n) {\n    progress.op();\n\n    if (n > cases) {\n      socket = new WebSocket.Client(host + '/updateReports?agent=' + encodeURIComponent(agent));\n      socket.onclose = process.exit;\n\n    } else if (skip.indexOf(n) >= 0) {\n      runCase(n + 1);\n\n    } else {\n      socket = new WebSocket.Client(host + '/runCase?case=' + n + '&agent=' + encodeURIComponent(agent));\n      socket.pipe(socket);\n      socket.on('close', function() { runCase(n + 1) });\n    }\n  };\n\n  runCase(1);\n};\n"]}