{"version":3,"sources":["autobahn_client.js"],"names":[],"mappings":"AAAA,IAAI,SAAS,GAAG,OAAO,CAAC,uBAAuB,CAAC;IAC5C,OAAO,GAAK,OAAO,CAAC,oBAAoB,CAAC;IACzC,IAAI,GAAQ,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEhC,IAAI,IAAI,GAAM,qBAAqB;IAC/B,KAAK,GAAK,kBAAkB,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;IACvD,KAAK,GAAK,CAAC;IACX,OAAO,GAAG,EAAC,UAAU,EAAE,CAAC,OAAO,CAAC,EAAC,CAAC;;AAEtC,IAAI,MAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC;IACrD,GAAG;IAAE,QAAQ,CAAC;;AAElB,MAAM,CAAC,SAAS,GAAG,UAAS,KAAK,EAAE;AACjC,SAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;AACjD,OAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7B,UAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;CACxB,CAAC;;AAEF,IAAI,OAAO,GAAG,UAAS,CAAC,EAAE;AACxB,MAAI,CAAC,GAAG,KAAK,EAAE;AACb,OAAG,GAAG,IAAI,GAAG,uBAAuB,GAAG,KAAK,CAAC;AAC7C,UAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACnC,UAAM,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;AAC9B,WAAO;GACR;;AAED,KAAG,GAAG,IAAI,GAAG,gBAAgB,GAAG,CAAC,GAAG,SAAS,GAAG,KAAK,CAAC;AACtD,QAAM,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;AAChD,QAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEpB,QAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AAC5B,YAAQ,CAAC,EAAE,EAAE,CAAC;AACd,WAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;GAChB,CAAC,CAAC;CACJ,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,YAAW;AAC1B,SAAO,CAAC,CAAC,CAAC,CAAC;CACZ,CAAC","file":"autobahn_client-compiled.js","sourcesContent":["var WebSocket = require('../lib/faye/websocket'),\n    deflate   = require('permessage-deflate'),\n    pace      = require('pace');\n\nvar host    = 'ws://localhost:9001',\n    agent   = encodeURIComponent('node-' + process.version),\n    cases   = 0,\n    options = {extensions: [deflate]};\n\nvar socket = new WebSocket.Client(host + '/getCaseCount'),\n    url, progress;\n\nsocket.onmessage = function(event) {\n  console.log('Total cases to run: ' + event.data);\n  cases = parseInt(event.data);\n  progress = pace(cases);\n};\n\nvar runCase = function(n) {\n  if (n > cases) {\n    url = host + '/updateReports?agent=' + agent;\n    socket = new WebSocket.Client(url);\n    socket.onclose = process.exit;\n    return;\n  }\n\n  url = host + '/runCase?case=' + n + '&agent=' + agent;\n  socket = new WebSocket.Client(url, [], options);\n  socket.pipe(socket);\n\n  socket.on('close', function() {\n    progress.op();\n    runCase(n + 1);\n  });\n};\n\nsocket.onclose = function() {\n  runCase(1);\n};\n"]}