{"version":3,"sources":["message.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAI,OAAO,GAAG,YAAW;AACvB,MAAI,CAAC,IAAI,GAAM,KAAK,CAAC;AACrB,MAAI,CAAC,IAAI,GAAM,KAAK,CAAC;AACrB,MAAI,CAAC,IAAI,GAAM,KAAK,CAAC;AACrB,MAAI,CAAC,MAAM,GAAI,IAAI,CAAA;AACnB,MAAI,CAAC,MAAM,GAAI,CAAC,CAAC;AACjB,MAAI,CAAC,OAAO,GAAG,EAAE,CAAC;CACnB,CAAC;;AAEF,IAAI,QAAQ,GAAG;AACb,MAAI,EAAE,YAAW;AACf,QAAI,IAAI,CAAC,IAAI,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC;;AAEhC,QAAI,CAAC,IAAI,GAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,QAAI,MAAM,GAAG,CAAC,CAAC;;AAEf,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACnD,UAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACxC,YAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;KAClC;AACD,WAAO,IAAI,CAAC,IAAI,CAAC;GAClB;;AAED,WAAS,EAAE,UAAS,KAAK,EAAE;AACzB,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;AACpC,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;AACpC,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;;AAEpC,QAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;AAErD,QAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACjC,QAAI,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC;GAC7B;CACF,CAAC;;AAEF,KAAK,IAAI,GAAG,IAAI,QAAQ,EACtB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;;AAEzC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC","file":"message-compiled.js","sourcesContent":["'use strict';\n\nvar Message = function() {\n  this.rsv1    = false;\n  this.rsv2    = false;\n  this.rsv3    = false;\n  this.opcode  = null\n  this.length  = 0;\n  this._chunks = [];\n};\n\nvar instance = {\n  read: function() {\n    if (this.data) return this.data;\n\n    this.data  = new Buffer(this.length);\n    var offset = 0;\n\n    for (var i = 0, n = this._chunks.length; i < n; i++) {\n      this._chunks[i].copy(this.data, offset);\n      offset += this._chunks[i].length;\n    }\n    return this.data;\n  },\n\n  pushFrame: function(frame) {\n    this.rsv1 = this.rsv1 || frame.rsv1;\n    this.rsv2 = this.rsv2 || frame.rsv2;\n    this.rsv3 = this.rsv3 || frame.rsv3;\n\n    if (this.opcode === null) this.opcode = frame.opcode;\n\n    this._chunks.push(frame.payload);\n    this.length += frame.length;\n  }\n};\n\nfor (var key in instance)\n  Message.prototype[key] = instance[key];\n\nmodule.exports = Message;\n"]}